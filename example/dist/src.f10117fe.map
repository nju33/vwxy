{"version":3,"sources":["../node_modules/vwxy/src/vwxy.ts","../node_modules/vwxy/src/index.ts","src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAM,KAAK,GAAG,OAAd;;AAUA,IAAM,QAAQ,GAAG,SAAX,QAAW,GAAA;AACf;AACA,MAAM,EAAE,GAA2C,SAA7C,EAA6C,GAAA,CAAa,CAAhE;;AACA,EAAA,EAAE,CAAC,KAAH,GAAW,EAAX;AAEA,SAAO,EAAP;AACD,CAND;;AAQa,OAAA,CAAA,IAAA,GAAO,YAAA;AAGlB,SAAO,IAAI,KAAJ,CAAuC,QAAQ,EAA/C,EAAmD;AACxD,IAAA,GAAG,EAAA,aAAC,MAAD,EAAS,IAAT,EAAe,QAAf,EAAuB;AACxB,UAAM,KAAK,GAAG,MAAM,CAAC,KAAD,CAApB;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,IAAX;AAEA,aAAO,QAAP;AACD,KANuD;AAOxD,IAAA,KAAK,EAAA,eAAC,MAAD,EAAS,QAAT,EAAmB,aAAnB,EAAgC;AACnC,UAAM,YAAY,GAAG,aAAa,CAAC,CAAD,CAAlC;AACA,UAAM,KAAK,GAAG,MAAM,CAAC,KAAD,CAApB;AAEA,aAAO,UAAC,MAAD,EAAY;AACjB,YAAI;AACF,iBAAO,KAAK,CAAC,MAAN,CAAa,UAAC,MAAD,EAAc,IAAd,EAAkB;AAAK,mBAAA,MAAM,CAAC,IAAD,CAAN;AAAY,WAAhD,EAAkD,MAAlD,CAAP;AACD,SAFD,CAEE,OAAA,EAAA,EAAM;AACN,iBAAO,YAAP;AACD;AACF,OAND;AAOD;AAlBuD,GAAnD,CAAP;AAoBD,CAvBY;;;;;;AClBb,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AAEA,OAAA,CAAA,SAAA,CAAA,GAAe,MAAA,CAAA,IAAf;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AAAQ,OAAA,CAAA,SAAA,GAAA,MAAA,CAAA,SAAA;;;;;;;;;;;;ACHR,IAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AAEA,CAAC,YAAA;AACC,MAAM,GAAG,GAAG,MAAA,CAAA,SAAA,CAAA,GAMP,GANO,CAMH,GANG,CAMC,GAND,CAMK,GANL,CAAZ;AAQA,EAAA,OAAO,CAAC,GAAR,CACE,0BADF,EAEE,GAAG,CAAC;AACF,IAAA,GAAG,EAAE;AAAC,MAAA,GAAG,EAAE;AAAC,QAAA,GAAG,EAAE;AAAN;AAAN;AADH,GAAD,CAFL;AAOA,MAAM,KAAK,GAAG,MAAA,CAAA,SAAA,CAAA,GAIT,GAJS,CAIL,CAJK,EAIF,KAJE,CAII,KAJJ,CAAd;AAMA,EAAA,OAAO,CAAC,GAAR,CACE,6BADF,EAEE,KAAK,CAAC;AAAC,IAAA,GAAG,EAAE,CAAC;AAAC,MAAA,KAAK,EAAE;AAAR,KAAD,EAAiB;AAAC,MAAA,KAAK,EAAE;AAAR,KAAjB;AAAN,GAAD,CAFP;AAID,CA1BD","file":"src.f10117fe.map","sourceRoot":"..","sourcesContent":["const PATHS = 'paths';\n\nexport interface VwxyObject<T> {\n  [x: string]: T | T[] | VwxyObject<T> | VwxyObject<T>[];\n}\n\nexport type VwxyValue<T, O extends VwxyObject<T> = VwxyObject<T>> = (\n  defaultValue?: T,\n) => (val: O) => T;\n\nconst createFn = () => {\n  // tslint:disable-next-line:only-arrow-functions no-empty\n  const fn: {(): void; paths: (string | number)[]} = function() {};\n  fn.paths = [] as (string | number)[];\n\n  return fn;\n};\n\nexport const vwxy = <\n  T extends {[k: string]: any} = {[k: string]: any}\n>(): T => {\n  return new Proxy<ReturnType<typeof createFn>>(createFn(), {\n    get(target, prop, receiver) {\n      const paths = target[PATHS];\n      paths.push(prop as any);\n\n      return receiver;\n    },\n    apply(target, _thisArg, argumentsList) {\n      const defaultValue = argumentsList[0];\n      const paths = target[PATHS];\n\n      return (object: any) => {\n        try {\n          return paths.reduce((result: any, path) => result[path], object);\n        } catch {\n          return defaultValue;\n        }\n      };\n    },\n  }) as any;\n};\n","import {vwxy} from './vwxy';\n\nexport default vwxy;\nexport {VwxyValue} from './vwxy';","import vwxy, {VwxyValue} from 'vwxy';\n\n(() => {\n  const baz = vwxy<{\n    foo: {\n      bar: {\n        baz: VwxyValue<number>;\n      };\n    };\n  }>().foo.bar.baz(123);\n\n  console.log(\n    'vwxy().foo.bar.baz(123) ',\n    baz({\n      foo: {bar: {baz: 33}},\n    }),\n  );\n\n  const value = vwxy<{\n    arr: {\n      value: VwxyValue<string>;\n    }[];\n  }>().arr[1].value('bar');\n\n  console.log(\n    `vwxy().arr[1].value('baz') `,\n    value({arr: [{value: 'foo'}, {value: 'baz'}]}),\n  );\n})();\n"]}